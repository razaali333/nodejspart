<!doctype html>
<html lang="en">

<head>
    <!-- meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Premium HTML5 Template by Indonez">
    <meta name="keywords" content="blockit, uikit3, indonez, handlebars, scss, javascript">
    <meta name="author" content="Indonez">
    <meta name="theme-color" content="#E9E8F0">
    <!-- preload assets -->
    <link rel="preload" href="/assets/fonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/montserrat-v14-latin-600.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/lato-v16-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/fonts/lato-v16-latin-700.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/assets/css/style.css" as="style">
    <link rel="preload" href="/assets/js/vendors/uikit.min.js" as="script">
    <link rel="preload" href="/assets/js/utilities.min.js" as="script">
    <link rel="preload" href="/assets/js/config-theme.js" as="script">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/css/intlTelInput.css"  />
    <!-- stylesheet -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <!-- uikit -->
    <script src="/assets/js/vendors/uikit.min.js"></script>
      
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- favicon -->
    <link rel="shortcut icon" href="/assets/img/favicon.ico" type="image/x-icon">
    <!-- touch icon -->
    <link rel="apple-touch-icon-precomposed" href="/assets/img/apple-touch-icon.png">
    <title>Sign Up</title>
</head>

<body>
    <style>
        
        .iti__flag {background-image: url("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/img/flags.png");}

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  .iti__flag {background-image: url("https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/img/flags@2x.png");}
}
.iti{
  width: 100%;
}
#phone{
    border: 1px solid #d0d0d0;
}

    </style>
    <!-- page loader begin -->
    <div class="page-loader">
        <div></div>
        <div></div>
        <div></div>
    </div>
    <!-- page loader end -->
    <main>
    <!-- section content begin -->
    <div class="uk-section uk-padding-remove-vertical">
        <div class="uk-container uk-container-expand">
            <div class="uk-grid" data-uk-height-viewport="expand: true">
                <div class="uk-width-3-5@m uk-background-cover uk-background-center-right uk-visible@m uk-box-shadow-xlarge" style="background-image: url(/assets/img/in-signin-image.jpg);">                
                    
                </div>
                <div class="uk-width-expand@m uk-flex uk-flex-middle">
                    <div class="uk-grid uk-flex-center">
                        <div class="uk-width-3-5@m">
                            <div class="uk-text-center in-padding-horizontal@s">
                                <a class="uk-logo" href="/home">
                                    <img src="/assets/img/logo.png" data-src="/assets/img/logo.png" alt="logo" width="130" height="36" data-uk-img>
                                </a>
                                <p class="uk-text-lead uk-margin-small-top uk-margin-medium-bottom">Create an account</p>
                                <!-- login form begin -->
                                <form id="signupForm" class="uk-grid uk-form">
                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <span class="uk-form-icon uk-form-icon-flip fas fa-user fa-sm"></span>
                                        <input class="uk-input uk-border-rounded" id="fname" name="fname" value="" type="text" placeholder="First Name">
                                    </div>
                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <span class="uk-form-icon uk-form-icon-flip fas fa-user fa-sm"></span>
                                        <input class="uk-input uk-border-rounded" id="lname" name="lname" value="" type="text" placeholder="Last Name">
                                    </div>
                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <span class="uk-form-icon uk-form-icon-flip fas fa-user fa-sm"></span>
                                        <input class="uk-input uk-border-rounded" id="username" value="" name="username" type="text" placeholder="Username">
                                    </div>
                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <span class="uk-form-icon uk-form-icon-flip fas fa-lock fa-sm"></span>
                                        <input class="uk-input uk-border-rounded" id="email" value="" type="email" name="email" placeholder="Email">
                                    </div>

                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <span class="uk-form-icon uk-form-icon-flip fas fa-lock fa-sm"></span>
                                       <input  class="phone" id="phone" style="width: 100%; padding: 10px 10px 10px 73px; text-align: left;border-radius: 5px;" type="tel"  
                                        required maxlength="19" placeholder=""/>
                                        <input type="hidden" value="1" id="country_code" name="country_code">
                                    </div>
                                   
                                    <div class="uk-margin-small uk-width-1-1 uk-inline">
                                        <span class="uk-form-icon uk-form-icon-flip fas fa-lock fa-sm"></span>
                                        <input class="uk-input uk-border-rounded" id="password" value="" type="password" name="password" placeholder="Password">
                                    </div>
                                   
                                    
                                    <div class="uk-margin-small uk-width-1-1">
                                        <button class="uk-button uk-width-1-1 uk-button-primary uk-border-rounded uk-float-left" type="button" id="submitBtn" name="submit">Sign Up</button>
                                    </div>
                                </form>
                                <!-- login form end -->
                                <p class="uk-heading-line"><span>Or registered with</span></p>
                                <div class="uk-margin-medium-bottom">
                                    <a class="uk-button uk-button-primary uk-button-small uk-border-rounded color-google" href="/google"><i class="fab fa-google uk-margin-small-right"></i>Google</a>
                                    <!-- <a class="uk-button uk-button-primary uk-button-small uk-border-rounded uk-margin-small-left color-facebook" href="#"><i class="fab fa-facebook-f uk-margin-small-right"></i>Facebook</a> -->
                                </div>                        
                                <span class="uk-text-small">Already have an account? <a href="/signin">Login</a></span>
                            </div>
                        </div>
                    </div>                
                </div>
            </div>
        </div>
    </div>
    <!-- section content end -->
    </main>
    <!-- javascript -->
    <script src="/assets/js/utilities.min.js"></script>
    <script src="/assets/js/config-theme.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/js/intlTelInput.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
    <script>
      $(document).ready(function () {
          
            // Initialize the intlTelInput library
   var input = document.querySelector(".phone");
   var iti = window.intlTelInput(input, {
       separateDialCode: true,
      
       utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/18.2.1/js/utils.min.js", // Make sure to include this script
               preferredCountries: ['us', 'gb', 'ae'], // Prioritize US, UK, and UAE
        dropdownContainer: document.body
   });

   // Update the hidden input with the selected country code
   input.addEventListener("countrychange", function () {
       var country_code = iti.getSelectedCountryData().dialCode;
       document.querySelector("#country_code").value = country_code;
   });
   
      });
</script>
<!-- Add the following script tag at the end of your HTML file -->
<script>
    $(document).ready(function () {
        // Event listener for form submission
        $("#submitBtn").click(function () {
            // Get form data
            var formData = {
                fname: $("#fname").val(),
                lname: $("#lname").val(), // Add other form fields
                username: $("#username").val(), // Add other form fields
                email: $("#email").val(), // Add other form fields
                phone: $("#phone").val(), // Add other form fields
                country_code: $("#country_code").val(), // Add other form fields
                password: $("#password").val(), // Add other form fields
                // ...
            };

            // Send form data to the server using AJAX
            $.ajax({
                type: "POST",
                url: "/save_account", // Update the URL with your server endpoint
                data: JSON.stringify(formData),
                contentType: "application/json",
                success: function (response) {
                    console.log("Data sent successfully");
                      // Display a success SweetAlert2 message
                    Swal.fire({
                        icon: 'success',
                        title: 'Success!',
                        text: response.message, // Assuming your server sends a message in the response
                    });
                    
                    // Reset the form inputs
                    $('#formId')[0].reset(); // Replace 'formId' with the actual ID of your form

                },
                error: function (error) {
                    console.error("Error sending data:", error);
                      // Display an error SweetAlert2 message
                    Swal.fire({
                        icon: 'error',
                        title: 'Error!',
                        text: 'Failed to submit data. Please try again.',
                    });
                    // Handle errors
                }
            });
        });
    });
</script>
</body>

</html>